<div align="center">
  <h1>BVM</h1>
  <h3>Bun åŸç”Ÿç‰ˆæœ¬ç®¡ç†å™¨</h3>
  <p>
    0ms æé€Ÿå¯åŠ¨ Â· åŸå­çº§éš”ç¦» Â· å…¨çƒ CDN åŠ é€Ÿ
  </p>

  [![Version](https://img.shields.io/github/v/release/EricLLLLLL/bvm?color=f472b6&label=latest)](https://github.com/EricLLLLLL/bvm/releases)
  [![Platform](https://img.shields.io/badge/platform-win%20%7C%20mac%20%7C%20linux-blue)](#)
  [![Size](https://img.shields.io/badge/size-45kb-green)](#)
  [![License](https://img.shields.io/github/license/EricLLLLLL/bvm?color=orange)](#)
  <br/>
  <a href="./README.md">ğŸ‡ºğŸ‡¸ English Docs</a>
</div>

<details>
  <summary><strong>æ–‡æ¡£ç›®å½• (Table of Contents)</strong></summary>

- [ä¸ºä»€ä¹ˆé€‰æ‹© BVM?](#-ä¸ºä»€ä¹ˆé€‰æ‹©-bvm)
- [å·¥ä½œåŸç†](#-å·¥ä½œåŸç†)
- [æ€§èƒ½è·‘åˆ†](#-æ€§èƒ½è·‘åˆ†-benchmark)
- [å®‰è£…æŒ‡å—](#-å®‰è£…æŒ‡å—)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [é¡¹ç›®çº§é…ç½® (.bvmrc)](#-é¡¹ç›®çº§é…ç½®-bvmrc)
- [è¿ç§»æŒ‡å—](#-ä»-nvm--fnm-è¿ç§»)
- [å¼€æºåè®®](#-license)

</details>

<br/>

**BVM** æ˜¯ä¸“ä¸º Bun æ‰“é€ çš„ä¸‹ä¸€ä»£ç‰ˆæœ¬ç®¡ç†å™¨ã€‚**ä½ å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ Bun ç”Ÿæ€ä¸­çš„ `nvm` æˆ– `fnm`ï¼Œä½†é€Ÿåº¦æ›´å¿«ã€æ›´æ™ºèƒ½ã€‚**

å®ƒåˆ©ç”¨ Bun è¿è¡Œæ—¶è‡ªèº«çš„ä¼˜åŠ¿ï¼Œæä¾›äº†çªç ´ç‰©ç†æé™çš„å®‰è£…ä¸ç®¡ç†ä½“éªŒã€‚ä¸åŒäºé‚£äº›ä¼šæ‹–æ…¢ç»ˆç«¯å¯åŠ¨é€Ÿåº¦æˆ–ä¾èµ–ç¬¨é‡ä»£ç†çš„æ—§æ—¶ä»£å·¥å…·ï¼ŒBVM é‡‡ç”¨åŸç”Ÿ OS æœºåˆ¶ï¼Œå®ç°äº† **0ms çš„ Shell å¯åŠ¨å»¶è¿Ÿ**ã€‚

---

## ğŸ§© å·¥ä½œåŸç†

BVM é‡‡ç”¨ **è½¯é“¾æ¥ä¸ Shim æ··åˆæ¶æ„ (Symlink-Shim Hybrid)**ï¼Œåœ¨ä¿æŒå®Œç¾éš”ç¦»çš„åŒæ—¶å®ç°äº†é›¶å»¶è¿Ÿã€‚

```mermaid
graph LR
    A[ç»ˆç«¯ Terminal] -->|æ‰§è¡Œ bun| B(BVM Shim)
    B -->|æ£€æŸ¥ .bvmrc| C{å­˜åœ¨é¡¹ç›®é…ç½®?}
    C -->|æ˜¯| D[ä½¿ç”¨æŒ‡å®šç‰ˆæœ¬]
    C -->|å¦| E[ä½¿ç”¨å…¨å±€ Current]
    E -->|ç‰©ç†è½¯é“¾| F[~/.bvm/versions/v1.x]
    D -->|ç›´æ¥æ‰§è¡Œ| G[~/.bvm/versions/v1.y]
```

1.  **å…¨å±€è½¯é“¾**: `bvm use` æ›´æ–° `~/.bvm/current` ç‰©ç†è½¯é“¾æ¥ã€‚ä½ çš„ Shell `PATH` ç›´æ¥æŒ‡å‘æ­¤å¤„ï¼Œå› æ­¤å¯åŠ¨é€Ÿåº¦ç­‰åŒäºåŸç”Ÿã€‚
2.  **æ™ºèƒ½ Shim**: å½“ä½ æ‰§è¡Œ `bun` å‘½ä»¤æ—¶ï¼ŒBVM çš„è½»é‡çº§ Shim ä»…åœ¨**å¿…è¦æ—¶**ï¼ˆå¦‚æ£€æµ‹åˆ° `.bvmrc`ï¼‰ä»‹å…¥ï¼Œå¦åˆ™ç›´æ¥é€ä¼ ç»™åº•å±‚äºŒè¿›åˆ¶æ–‡ä»¶ã€‚
3.  **ä¾èµ–æ³¨å…¥**: BVM åŠ¨æ€æ³¨å…¥ `BUN_INSTALL` ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿ v1.0 å®‰è£…çš„å…¨å±€åŒ…ç»å¯¹ä¸ä¼šæ³„æ¼åˆ° v1.1 ç¯å¢ƒä¸­ã€‚

---

## ğŸŒŸ ä¸ºä»€ä¹ˆé€‰æ‹© BVMï¼Ÿ

### ğŸš€ 0ms æé€Ÿå¯åŠ¨ (Zero-Latency)
å‘Šåˆ«ç»ˆç«¯å¡é¡¿ã€‚BVM é‡‡ç”¨ **Shim æ¶æ„** é…åˆ **ç‰©ç†è½¯é“¾æ¥**ã€‚æ— è®ºä½ æ˜¯åœ¨æ‰“å¼€æ–°æ ‡ç­¾é¡µè¿˜æ˜¯åˆ‡æ¢é¡¹ç›®ï¼Œ`bun` å‘½ä»¤éƒ½æ˜¯ç¬é—´å¯ç”¨çš„ï¼Œæ²¡æœ‰åƒ `nvm` é‚£æ ·çš„"Shell åˆå§‹åŒ–ç¨"ã€‚

### âš¡ å…¨çƒæé€Ÿä¸‹è½½ (è‡ªå¸¦é•œåƒ)
æˆ‘ä»¬ä¸ä¾èµ–ä¸ç¨³å®šçš„ GitHub Releasesã€‚BVM çš„æ‰€æœ‰èµ„æºéƒ½é€šè¿‡é«˜æ€§èƒ½ CDN äº¤ä»˜ã€‚
*   **æºç äº¤ä»˜**: é€šè¿‡ **jsDelivr** (å…¨çƒè¾¹ç¼˜ç½‘ç»œ) ç§’çº§åˆ†å‘ã€‚
*   **Bun äºŒè¿›åˆ¶**: ç›´æ¥ä» **NPM** (Fastly/Cloudflare) ä¸‹è½½ã€‚
*   **æ™ºèƒ½é•œåƒåˆ‡æ¢**: Bun äºŒè¿›åˆ¶æ–‡ä»¶ç›´æ¥ä» **NPM** å®˜æ–¹åˆ†å‘è·¯å¾„ä¸‹è½½ã€‚BVM ä¼šæ ¹æ®ä½ çš„ç½‘ç»œç¯å¢ƒè‡ªåŠ¨é€‰æ‹©æœ€å¿«é•œåƒæºï¼ˆå¦‚ `npmmirror`ï¼‰ï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®ï¼Œå…¨çƒèŒƒå›´å†…çš†å¯å®ç°æé€Ÿä¸‹è½½ã€‚

### ğŸ›¡ï¸ "åœ°å ¡" æ¶æ„ (Bunker Architecture)
BVM æ˜¯**åšä¸å¯æ‘§**çš„ã€‚å®ƒç»´æŠ¤ç€ä¸€ä¸ªç§æœ‰ã€éš”ç¦»çš„ Bun è¿è¡Œæ—¶ (`~/.bvm/runtime`)ã€‚å³ä½¿ä½ åˆ é™¤äº†æ‰€æœ‰å®‰è£…çš„ Bun ç‰ˆæœ¬ï¼Œæˆ–è€…æä¹±äº†ç³»ç»Ÿè·¯å¾„ï¼ŒBVM ä¾ç„¶èƒ½è‡ªæˆ‘ä¿®å¤å¹¶æ­£å¸¸å·¥ä½œã€‚

### ğŸ“¦ ç¯å¢ƒçº§åŸå­éš”ç¦»
åˆ‡æ¢ç‰ˆæœ¬ä¸åº”å¯¼è‡´å…¨å±€å·¥å…·å´©æºƒã€‚BVM ä¸ºæ¯ä¸ªç‰ˆæœ¬æ³¨å…¥ç‹¬ç«‹çš„ `BUN_INSTALL` è·¯å¾„ã€‚
*   Bun `v1.0.0` çš„å…¨å±€åŒ…åªå­˜åœ¨äº `v1.0.0` ä¸­ã€‚
*   Bun `v1.1.0` çš„å…¨å±€åŒ…ä¸ä¹‹å®Œå…¨éš”ç¦»ã€‚
*   å½»åº•æœç» "å¹½çµå†²çª" å’Œ CLI æŠ¥é”™ã€‚

### ğŸªŸ åŸç”Ÿ Windows æ”¯æŒ
Windows ç”¨æˆ·ä¸å†æ˜¯äºŒç­‰å…¬æ°‘ã€‚BVM ä¸“ä¸º PowerShell åŸç”Ÿæ„å»ºï¼Œæä¾›ä¸ macOS/Linux å®Œå…¨ä¸€è‡´çš„åŠŸèƒ½é›†å’Œæé€Ÿä½“éªŒã€‚

---

## âš¡ æ€§èƒ½è·‘åˆ† (Benchmark)

åŸºäº `scripts/benchmark-ultimate.ts` å®æµ‹æ•°æ® (M1 Pro, macOS)ã€‚

| æŒ‡æ ‡ | **BVM** (Bun) | **fnm / bum** (Rust) | **nvm** (Legacy) |
| :--- | :--- | :--- | :--- |
| **å‘½ä»¤æ‰§è¡Œ (bun -v)** | **~19ms** âš¡ï¸ | ~28ms | >200ms |
| **Shell å¯åŠ¨å»¶è¿Ÿ** | **0ms** ğŸŸ¢ | 0ms | ~500ms ğŸ”´ |
| **æ¶æ„æœºåˆ¶** | **OS åŸç”Ÿè½¯é“¾** / é«˜æ€§èƒ½ Shim | äºŒè¿›åˆ¶ä»£ç† | Shell è„šæœ¬ |
| **è‡ªèº«ä½“ç§¯** | **~45KB** | ~5MB | ~100KB |
| **ä¸‹è½½æœºåˆ¶** | **NPM + æ™ºèƒ½é•œåƒ** | GitHub Releases | æ…¢ / æ‰‹åŠ¨é…ç½® |

> **ç‰©ç†æé™**: BVM åˆ©ç”¨æ“ä½œç³»ç»Ÿå†…æ ¸çš„è½¯é“¾æ¥ç›´æ¥æŒ‡å‘äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆæˆ–é€šè¿‡æç®€ Shim è§£æï¼‰ã€‚**å®ƒçš„é€Ÿåº¦ç­‰åŒäºä½ ç›´æ¥è¿è¡Œ Bunï¼Œæ²¡æœ‰ä»»ä½•ä¸­é—´å±‚å¼€é”€ã€‚** å³ä½¿åœ¨è§£æ `.bvmrc` çš„é¡¹ç›®æ¨¡å¼ä¸‹ï¼Œé¢å¤–å¼€é”€ä¹Ÿä»…ä¸º ~8msã€‚

---

## ğŸ“¥ å®‰è£…æŒ‡å—

### macOS / Linux / WSL
è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿä¸æ¶æ„ã€‚

```bash
curl -fsSL https://cdn.jsdelivr.net/gh/EricLLLLLL/bvm@main/install.sh | bash
```

### Windows (PowerShell)
**æ— éœ€**ç®¡ç†å‘˜æƒé™ã€‚

```powershell
irm https://cdn.jsdelivr.net/gh/EricLLLLLL/bvm@main/install.ps1 | iex
```

---

## ğŸ”„ ä» nvm / fnm è¿ç§»ï¼Ÿ

å¦‚æœä½ ä¹ æƒ¯ä½¿ç”¨ Node Version Manager (nvm)ï¼Œä½ ä¼šæ„Ÿåˆ°éå¸¸äº²åˆ‡ã€‚BVM æ”¯æŒåŒæ ·çš„æ ¸å¿ƒå·¥ä½œæµï¼Œä½†é€Ÿåº¦æœ‰äº†è´¨çš„é£è·ƒã€‚

ä¸”ä¸åŒäº `nvm` ç»å¸¸éœ€è¦æ‰‹åŠ¨é…ç½®é•œåƒç¯å¢ƒå˜é‡ (`NVM_NODEJS_ORG_MIRROR`) æ‰èƒ½åœ¨å›½å†…æ­£å¸¸ä½¿ç”¨ï¼ŒBVM **å¼€ç®±å³ç”¨**ï¼Œè‡ªåŠ¨ä¸ºä½ é€‰æ‹©æœ€å¿«çš„æºã€‚

| ä»»åŠ¡ | **nvm** (Node) | **BVM** (Bun) |
| :--- | :--- | :--- |
| å®‰è£…ç‰ˆæœ¬ | `nvm install 20` | `bvm install latest` |
| åˆ‡æ¢ç‰ˆæœ¬ | `nvm use 20` | `bvm use latest` |
| è®¾ä¸ºé»˜è®¤ | `nvm alias default 20` | `bvm default latest` |
| åˆ—å‡ºç‰ˆæœ¬ | `nvm ls` | `bvm ls` |

---

## ğŸ® å¿«é€Ÿå¼€å§‹

**å®‰è£…æœ€æ–°ç‰ˆ**
```bash
bvm install latest
```

**åˆ‡æ¢åˆ°æŒ‡å®šç‰ˆæœ¬**
```bash
bvm use 1.0.1
```

**å®‰è£…ç‰¹å®šç‰ˆæœ¬**
```bash
bvm install 1.0.1
```

**åˆ—å‡ºæ‰€æœ‰ç‰ˆæœ¬**
```bash
bvm ls          # æœ¬åœ°å·²å®‰è£…
bvm ls-remote   # è¿œç¨‹å¯ç”¨
```

**è®¾ç½®é»˜è®¤ç‰ˆæœ¬ (æ–°çª—å£ç”Ÿæ•ˆ)**
```bash
bvm default 1.0.1
```

**å‡çº§ BVM è‡ªèº«**
```bash
bvm upgrade
```

---

## ğŸ“ é¡¹ç›®çº§é…ç½® (.bvmrc)

BVM æ”¯æŒé’ˆå¯¹æ¯ä¸ªé¡¹ç›®è‡ªåŠ¨åˆ‡æ¢ç‰ˆæœ¬ï¼Œè¿™æ˜¯å›¢é˜Ÿåä½œçš„å¿…å¤‡åŠŸèƒ½ã€‚

1.  **åˆ›å»ºé…ç½®æ–‡ä»¶**:
    åœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º `.bvmrc` æ–‡ä»¶ï¼š
    ```bash
    echo "1.0.1" > .bvmrc
    ```
2.  **ç›´æ¥è¿è¡Œ Bun**:
    å½“ä½ åœ¨è¯¥ç›®å½•ä¸‹è¿è¡Œä»»ä½• `bun` å‘½ä»¤æ—¶ï¼ŒBVM ä¼šè‡ªåŠ¨æ£€æµ‹å¹¶ä½¿ç”¨é…ç½®çš„ç‰ˆæœ¬ã€‚
    ```bash
    cd my-project
    bun -v
    # 1.1.20 (è‡ªåŠ¨è§£æè‡ª .bvmrc)
    ```

    *æ— éœ€æ‰‹åŠ¨æ‰§è¡Œ `bvm use`ï¼Œä¸€åˆ‡è‡ªåŠ¨å‘ç”Ÿã€‚*

---



MIT Â© [EricLLLLLL](https://github.com/EricLLLLLL)
